<html>  <head>    <meta http-equiv="content-type" content="text/html; charset=utf-8">    <meta name="KeyWords" content="Cormas, Cirad, gestion des ressources naturelles, natural resource management, INRM, environnement, environment, simulation, modelisation, modelling, SMA, MAS, multi-agent, smalltalk, visualworks, logiciel, software">    <title>demo_fire</title>    <!--#include virtual="/include/script.inc" -->    <link rel="stylesheet" href="/css/cormas.css" --="">  </head>  <body border="0" onload="MM_preloadImages('/images/fr/accueil_r.gif','/images/fr/demarche_r.gif','/images/fr/logiciel_r.gif','/images/fr/applications_r.gif','/images/fr/biblio_r.gif','/images/fr/formation_r.gif','/images/fr/reseaux_r.gif')"    topmargin="0"    marginwidth="0"    marginheight="0"    leftmargin="0"    bgcolor="#FFFFFF">    <!--#include virtual="haut.inc" -->    <table width="100%" cellspacing="0" cellpadding="0" border="0">      <tbody>        <tr>          <!--#include virtual="sommair.inc" -->          <td style="width: 890px;" valign="top" bgcolor="#FFFFFF">            <p>&nbsp; </p>            <h1>Demo_Fire&nbsp; </h1>            <h2>Cellular automata of a forest fire</h2>            <p>Christophe Le Page, François Bousquet, Pierre Bommel (Cirad)</p>            <h3>Purpose</h3>            <p>This model illustrates how the principles of cellular automata              are implemented in Cormas. The spatial entity of the model (the              cell, here&nbsp; named <i>Plot</i>), can take four states: <i>#fire</i>              (red); <i>#forest</i> (green); <i>#ash</i> (grey); <i>#empty</i>              (white). The initial state of each cell of the spatial grid is              either set to <i>#forest</i> with a probability <i>p</i> or to <i>#empty</i>              with a probability <i>1-p</i>. At the beginning, one cell is set              on <i>fire</i>, and then the spreading of the fire, defined in              the cell transition function, occurs. The transition function is              the following: a cell being a <i>forest</i> at time <i>t-1</i>              will turn on <i>fire</i> at time <i>t</i> if at least one of its              4 neighbours (North, East, South, West) is on fire at time <i>t-1</i>.              The cells being on <i>fire</i> will become <i>ash</i> at the              next timestep, the cells being <i>ash</i> will become <i> empty</i>              at the next timestep. </p>            <table width="75%" border="1">              <tbody>                <tr>                  <td align="center"><img src="/images/applica/fireautomata53.gif"                      alt="Animation gif du modèle FireAutomata"                      hspace="10"                      height="190"                      width="193"                      vspace="10"                      align="bottom"></td>                  <td align="center"><img src="/images/applica/fireautomata58.gif"                      alt="Animation gif du modèle FireAutomata"                      hspace="10"                      height="191"                      width="193"                      vspace="10"                      align="bottom"></td>                </tr>                <tr>                  <td align="center">p = 0.53</td>                  <td align="center">p = 0.58</td>                </tr>              </tbody>            </table>            <p>The probability to observe a resteint fire is high if <i>p</i>              is lower than 0.55, whereas when <i>p</i> is greater than 0.55, a              global fire is likely to occur. This "<b>percolation</b>"              threshold characterizes cellular automata which are representing              diffusion processes. See also (if you enjoy movie !) the <a href="fireautomataMovie.htm">animation</a>              made from a 100 x 100 spatial grid (p = 0.58).</p>            <p><u>The following four versions describe four different ways to                implement a fire diffusion model on a grid.</u><br>              <br>              For these 4 versions, we consider only three possible states:              forest, fire, or empty (<i>#forest, #fire, #empty</i>). The fire              doesn't extinguish by itself (except for version 4b). </p>            <p><br>            </p>            <span style="color: #0000ee;"></span>            <h3>Version 1 : standard cellular automata</h3>            <p>&nbsp;&nbsp;&nbsp; ** Select <b><u>Fire_1_CA.pcl</u></b> version              from <b><a href="../../logiciel/Demo_Fire.zip">Demo_Fire</a></b>              **</p>            <p>This version provides a standard version of a cellular automaton.              Here, only one class is created (<b>Plot</b>), subclass of <b>SpatialEntityCell</b>.              It already contains two attributes: <i>state</i> and <i>bufferState</i>.              Here, we declare #empty as default value:</p>            <img title="default state" alt="" src="../../images/applica/fire-defaultState.png"              style="width: 308px; height: 350px;"><br>            <br>            To create the initial space, select one of the 3 initialization            methods : init_4 (which creates a neighborhood space 4), init_6            (neighborhood of 6, or init_8 (neighborhood of Moore). Each of these            methods uses the following general initialization: <br>            <br>            <img alt="code initialization" src="../../images/applica/fire-code.png"><br>            Note that <i>xSize</i> and <i>ySize</i> have been declared as 2            attributes (with 50 as default) at the model level.<br>            <br>            For fire dynamics, the #<b>newState</b> method (also called            "transition function") must be redefined in the <b>Plot</b> class,            as follows :<br>            <img title="fire code" alt="code of fire" src="../../images/applica/fire-code2.png"><br>            It is important to note here that the state of the cell is <i>not</i>            modified but only its buffer state. For example, in the case of a            cell in forest in contact with a fire, this one keeps its state as            forest, and it just modifies its buffer state (self bufferState:            #fire), so that this cell continues for this turn to be considered            by the other cells as still being a forest.<br>            At the <i>#step: t</i> method of the scheduler, it is necessary to            make a simple call to :<br>            <pre>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; self stepSynchronouslyCA: t.</pre>            The <i>#stepSynchronouslyCA:</i> method is defined at the <b>CormasModel</b>            level. It performs 2 complete loops of the whole cells. The 1st loop            makes each cell execute the <i>#newState</i> method (without any            effective change of state), then during the second loop, the <i>#updateState</i>            method is executed. It is only then that the state of the cells is            actually changed.<br>            <br>            <h3>Version 2 : propagation from burning cells </h3>            &nbsp;&nbsp;&nbsp; ** Select <b><u><b><u>Fire_2</u></b>_CAoptimized.pcl</u></b>            version from <b><a href="../../logiciel/Demo_Fire.zip">Demo_Fire</a></b>            **<br>            <br>            This version supports a fire diffusion only from the burning cells.            It is therefore necessary at each time step to select the cells on            fire, then to activate for each one the propagation of the fire on            its neighbours. Compared to version 1, two methods are added in the            <b>Plot</b> class: <i>#ignite</i> (which changes the state of the            cell to fire) and <i>#spreadFire</i> (which propagates fire on            nearby forest cells).<br>            To avoid artifacts related to regular cell scanning, the scheduler            must first select the burning cells and then activate their            diffusion:<br>            <br>            <img title="fire code diffusion" alt="" src="../../images/applica/fire-code3.png"><br>            This version also proposes a more optimized procedure that avoids            scanning the grid in advance to select only the burning cells (cf. <i>#step:
              t</i> method).<br>            <br>            <h3>Version 3 : a spatial entity (aggregate) spreads over the cells              in the forest</h3>            &nbsp;&nbsp;&nbsp; ** Select <b><u><b><u>Fire_3_</u></b>FireAggregate.pcl</u></b>            version from <b><a href="../../logiciel/Demo_Fire.zip">Demo_Fire</a></b>            **<br>            <br>            In this version, fire represents a spatial area that spreads over            the cells in forest that border it. This entity is called <b>FireAggregate</b>;            it is a subclass of <b>SpatialEntityAggregate</b>. Here, only the            FireAggregates entities are activated:<br>            <pre>&nbsp;&nbsp;&nbsp; self theFireAggregates do: [: f | f spread].</pre>            Each aggregate then executes the <i>#spread</i> method which            consists of the following instruction:<br>            <pre>&nbsp;&nbsp;&nbsp; self swellConstraint: [: p | p state = #forest].</pre>            &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
            <img title="fire aggregate" alt="" src="../../images/applica/fire-aggregate.png"><i>&nbsp;
              A fireAggregate entity (displayed with its bold outline)</i><br>            <br>            Note that the display of the aggregate outline slows down the            simulation. Without this display (pov -&gt; FireAggregate -&gt;            #nil), simulations are as fast as in version 2.<br>            <br>            <h3>Version 4 : Fire entities are moving</h3>            &nbsp;&nbsp;&nbsp; ** Select <b><u><b><u>Fire_4_</u></b>FireEntity.pcl</u></b>            version from <b><a title=" " href="../../logiciel/Demo_Fire.zip">Demo_Fire</a></b>            **<br>            <br>            In this version, entities called <b>FireEntity </b>are created.            These are the only entities activated by the scheduler. Considered            as active agents, these entities spread by creating new fire            entities on neighbouring cells:<br>            <hr style="width: 0pt; color: #7f7f7f; margin-left: auto; margin-right: auto;"><img              title="fire code 4"              alt=""              src="../../images/applica/fire-code4.png"><br>            <br>            The <i>#moveTo:</i> method has been redefined to activate cell            ignition when moving:<br>            <br>            <img title="fire move" alt="" src="../../images/applica/fire-code5.png"><br>            <h3>Version 4b : Fire entities are gradually consumed and then              extinguished</h3>            &nbsp;&nbsp;&nbsp; ** Select <b><u><b><u>Fire_5_</u></b>FireEntityAging.pcl</u></b>            version from <b><a href="../../logiciel/Demo_Fire.zip">Demo_Fire</a></b>            ** <br>            <br>            <table style="width: 620px; height: 308px;" border="0">              <tbody>                <tr>                  <td style="vertical-align: top; background-color: white; height: 239.2px;"><br>                    This version is a replication of <a href="http://netlogoweb.org/launch#http://netlogoweb.org/assets/modelslib/Sample%20Models/Earth%20Science/Fire.nlogo">NetLogo's
                      Fire model</a>. After igniting a plot, the fire is                    consumed and its intensity gradually decreases until it is                    extinguished (12 time steps).<br>                    In this version, the color of the fire according to its age                    is supported by <b>EntityFire</b> which defines a specific                    point of view (<i>#povAge</i>).<br>                    As with previous versions, an initialization method is                    proposed: <i>#init_FireLine</i> which creates a 100 x 100                    grid with a fire front starting on the first column of the                    grid.</td>                  <td style="width: 175.2px;" colspan="1" rowspan="2"><img title="fire entities"                      src="../../images/applica/fire-entity.png">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                    &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;                    &nbsp; &nbsp; &nbsp; &nbsp;                    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </td>                </tr>                <tr>                  <td style="text-align: right; vertical-align: top; background-color: white;"><i>Fire
                      propagation from the western border of the grid</i></td>                  <td><br>                  </td>                </tr>              </tbody>            </table>            <br>            <ul>              <li><b>Download</b> the model <a href="/logiciel/FireAutomata.zip"></a><b><a                    href="../../logiciel/Demo_Fire.zip">Demo_Fire</a></b>              </li>              <li>For more information, please <a href="mailto:le_page@cirad.fr">contact
                  the author</a>.<span style="color: #0000ee;"></span></li>            </ul>            <!--#include virtual="/include/copyright_fr.inc" --> </td>          <td width="15" valign="top" bgcolor="#FFFFFF"> <br>          </td>        </tr>      </tbody>    </table>  </body></html>