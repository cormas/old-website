<html lang="fr-fr">  <head>    <meta content="text/html; charset=utf-8" http-equiv="content-type">    <meta name="KeyWords" content="Cormas, Cirad, gestion des ressources naturelles, natural resource management, INRM, environnement, environment, simulation, modelisation, modelling, SMA, MAS, multi-agent, smalltalk, visualworks, logiciel, software">    <title>Demo_Aggregates</title>    <!--#include virtual="/include/script.inc" -->    <link rel="stylesheet" href="/css/cormas.css" --="">  </head>  <body topmargin="0" leftmargin="0" border="0" onload="MM_preloadImages('/images/en/accueil_r.gif','/images/en/demarche_r.gif','/images/en/logiciel_r.gif','/images/en/applications_r.gif','/images/en/biblio_r.gif','/images/en/formation_r.gif','/images/en/reseaux_r.gif')"    bgcolor="#FFFFFF"    marginheight="0"    marginwidth="0">    <div>      <p>        <!--#include virtual="haut.inc" -->      </p>    </div>    <table border="0" cellpadding="0" cellspacing="0" width="100%">      <tbody>        <tr>          <!--#include virtual="sommair.inc" -->          <td bgcolor="#FFFFFF" valign="top" width="*">            <p>&nbsp;</p>            <h1>Demo_Aggregates</h1>            <h2>Generating spatial aggregates in Cormas&nbsp; </h2>            Demo_Aggregates is a didactic model that allows you to test two            different ways to create spatial aggregates with Cormas. This model            introduces the operating principles of the aggregate spatial            entities. In the inheritance tree of generic spatial entities, the            generic compound spatial entity is called "<b>SpatialEntity_Set</b>".            It specializes in:<br>            <ul>              <li><b>SpatialEntityAggregate</b> whose components must be                contiguous (the Groves of the model), and</li>              <li><b>SpatialEntityNotConnex</b> whose components may not be                contiguous (the <i>FragmentedForests</i> of the model).</li>            </ul>            <img alt="spatialEntitiesUML " src="../../images/spatialEntitiesUML.png"><br>            <br>            Les opérations d'agrégation-désagrégation reposent sur l'association            "est composée de" entre SpatialEntitySet et SpatialEntity, qui se            traduit en deux attributs: les «components» (une collection            d'entités spatiales de niveau inférieur) et «theCSE» (l'appartenance            éventuelle à des entités spatiales de niveau supérieur). <br>            The aggregation-disaggregation operations are based on the            association "is made of" between SpatialEntitySet and SpatialEntity,            which is translated in two attributes: "components" (a collection of            lower-level spatial entities) and "theCSE" (the possibly belonging            to higher level spatial entities).<br>            In Demo_Aggregates, 3 entities are defined: <b>Plot</b> (subclass            of SpatialEntityElement), <b>Grove</b> (subclass of            SpatialEntityAggregate) and <b>FragmentedForest</b> (subclass of            SpatialEntityNotConnex):<br>            <img alt="classDiag" src="../../images/applica/aggregates2.png"><br>            UML class diag of Demo_Aggregates. The aggregation association is            redefined between Grove and Plot ( // stands for this redefinition).<br>            <h3>First scenario (initForests - StepForests)</h3>            Grove components are defined as sets of contiguous Plots sharing the            same condition (tree). The initialization loads a spatial grid            consisting of 50 * 50 cells (instances of the Plot class) from a            file (3forests.env). Each plot has a #tree attribute (boolean, true            or false). The actual instantiation of Grove            (SpatialEntityAggregate) is done by selecting the contiguous Plots            being #tree, plus an additional constraint on a minimum (fixed to            25) number of contiguous cells satisfying the aggregation condition.<br>            Making several spatial entities defined at different levels coexist            in the same model offers a great flexibility to write the dynamics            of the model. Some processes are more easily described at the            cellular level (newState), when for others, the aggregate level is            more appropriate (expand or swell).<br>            <u>StepForest:&nbsp;</u> offers 2 simultaneous dynamics. In this            simple and didactic example, each Plot has a fixed (very low)            probability of changing its state. Moreover, at the level of the            groves, a spreading process from the edges is written as follows:            cells of the surrounded edge are aggregated to the forest (only a            given number of cells are selected, corresponding to one hundredth            of the total number of cells components of the forestry entity). In            order to keep the forest entities compact, priority is given to            cells that are surrounded by the highest number of cells already            aggregated.<br>            <img alt="gif1" src="../../images/applica/demo_Aggregates.gif"><br>            &nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <br>            <h3>Second scenario (setAggregatesFromRandomSeeds - swellForests)</h3>            10 seed cells are randomly chosen in the 50*50 spatial grid. 10            aggregates are intialized with one of these seeds as a single            component. The iterative building process of the aggregates relies            on the integration, among the cells belonging to the outside edge of            each aggregate, of all the one that do not yet belong to another            aggregate (swell).<br>            <img alt="demo2" src="../../images/applica/demo_aggregates2.gif"><br>            <p><br>            </p>            <h3>Third scenario (init2AggregateLevels - step2AggregateLevels)</h3>            <p>From the same initial state (loading the 3forests.env file),              grove aggregates are created from the plots in forest. Then              FragmentedForest aggregates are created from the groves on the              size criterion, ie an instance of FragmentedForest contains groves              of the same size. In this configuration, we get 7              FragmentedForests (1 of 128 groves of 1 plot, &nbsp;&nbsp; &nbsp;1              of 49 groves of 2 plots, &nbsp;&nbsp; &nbsp;1 of 21 groves of 3              plots,&nbsp;&nbsp;&nbsp; 1 of 1 grove of 240 plots, &nbsp;&nbsp;              &nbsp;1 of 1 grove of 80 plots, &nbsp;&nbsp; &nbsp;1 of 2 groves              of 4 plots,&nbsp;&nbsp;&nbsp; 1 of 1 grove of 143 plots). </p>            <img alt="classDiag3" src="../../images/applica/aggregates3.png"><br>            For dynamic (step2AggregateLevels: t), only the FragmentedForest            aggregate composed of the smallest groves is activated. Its            components then swell from their outer edge.<br>            <img alt="demo3" src="../../images/applica/demo_aggregates3.gif">            <ul>              <li>You can download the <a title="demo_Aggregates" href="../../logiciel/Demo_Aggregates.zip">model</a>                (zip, 32 ko, Cormas 2017).</li>              <li>Contact <a href="mailto:bommel@cirad.fr">the autor</a>. </li>            </ul>            <p>&nbsp;</p>            <p>&nbsp;</p>            <p>&nbsp;</p>            <!--#include virtual="/include/copyright_en.inc" --> </td>          <td bgcolor="#FFFFFF" valign="top" width="15"> <br>          </td>        </tr>      </tbody>    </table>  </body></html>