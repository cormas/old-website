<html>  <head>    <meta http-equiv="content-type" content="text/html; charset=iso-8859-1">    <meta name="KeyWords" content="Cormas, Cirad, gestion des ressources naturelles, natural resource management, INRM, environnement, environment, simulation, modelisation, modelling, SMA, MAS, multi-agent, smalltalk, visualworks, logiciel, software">    <title>TSE: aggregative dynamics with Cormas</title>    <!--#include virtual="/include/script.inc" -->    <link rel="stylesheet" href="/css/cormas.css" --="">  </head>  <body border="0" onload="MM_preloadImages('/images/fr/accueil_r.gif','/images/fr/demarche_r.gif','/images/fr/logiciel_r.gif','/images/fr/applications_r.gif','/images/fr/biblio_r.gif','/images/fr/formation_r.gif','/images/fr/reseaux_r.gif')"    topmargin="0"    marginwidth="0"    marginheight="0"    leftmargin="0"    bgcolor="#FFFFFF">    <!--#include virtual="haut.inc" -->    <table width="100%" cellspacing="0" cellpadding="0" border="0">      <tbody>        <tr>          <!--#include virtual="sommair.inc" -->          <td width="*" valign="top" bgcolor="#FFFFFF">            <p>&nbsp; </p>            <h1>Demo_Aggregates (old "TSE")</h1>            <h2>Test of Cormas aggregative spatial entities</h2>            <p>Christophe Le Page, Pierre Bommel, Cirad</p>            <p>(See also the <a href="demo_aggregates.htm">Demo_aggregates</a>              page)</p>            <p>This model introduces the functionning principles of Cormas              aggregative spatial entities. In the inheritage tree of the Cormas              generic spatial entities, the compound spatial entity              "SpatialEntity_Set" is specialized in :</p>            <ul>              <li>"SpatialEntityAggregate", whose components should be                contiguous</li>            </ul>            <ul>              <li>"SpatialEntityNotConnex", whose components may not be                contiguous.<img src="../../images/applica/TSEclassDiag.gif" width="661"                  height="626"></li>            </ul>            <p>The operations of aggregation-disintegration are based on the two              attributes "components" of SpatialEntitySet (a collection of lower              level spatial entities) and "theCSE" (Component of a Spatial              Entity: register of belonging to higer level spatial entities). </p>            <p>The Demo_Aggregate model is a didactic model that allows to test              two different ways to create spatial aggregates with Cormas. </p>            <p>In the first one (<i><font color="#FF0000">Spreading of 3                  forests: <b>initForests</b> &amp; <b>stepForests</b></font></i>),              the components Groves (or Aggregate) are defined as sets of              contiguous cells sharing a same condition. Each cell has either              true (aggregation condition) or false as value of its "tree"              attribute. The effective instanciations from the compound spatial              entity "Grove" are submitted to an additional constraint about a              minimum number (set to 25) of contiguous components verifying the              aggregation condition (see #<i>buildForests</i>). </p>            <p>To let co-exist in the same model several spatial entities              defined at different levels gives a great flexibility to write the              dynamics of the model. Some of the processes are more easily              described at the cellular level, as for some others, the              aggregated level is more suitable. In this didactic and simplistic              example, </p>            <ul>              <li> each cell (Plot) has a fixed (very low) probability to switch                its "tree" attribute value (<i>newState</i>). </li>              <li>At the level of the aggregates, a spreading process (<i>expand</i>)                from the edges is written like this: a given number                (corresponding to the hundredth of the total number of                components of the forestry entity) of cells at the outside edge                are going to be aggregated to the forest. In order to keep a                high compacity to the forestry entities, a priority is given to                the cells that are surrounded by the highest number of already                aggregated cells. </li>            </ul>            <p> A second level aggregate (FragmentedEntity) is also designed in              this model. It is the collection of first level aggregates whose              size is upper 50. We obtain a hierarchical aggregation, from the              basic level to the second level aggregate : </p>            <p align="center"><img src="../../images/applica/TSEclassDiag2.gif"                width="579"                height="138"></p>            <table width="83%" border="0">              <tbody>                <tr>                  <td width="29%">                    <div align="center"><img src="../../images/applica/TSE-povCell.jpg"                        width="256"                        height="256"></div>                  </td>                  <td width="22%">                    <div align="center"><img src="../../images/applica/TSE-povForest1.jpg"                        width="256"                        height="256"></div>                  </td>                  <td width="49%">                    <div align="center"><img src="../../images/applica/TSE-povForest2.jpg"                        width="256"                        height="256"></div>                  </td>                </tr>                <tr>                  <td width="29%">                    <div align="center">First level point of view <br>                      (Cell =&gt; povTree)</div>                  </td>                  <td width="22%">                    <div align="center">Second level point of view <br>                      (Aggregate =&gt; povId)</div>                  </td>                  <td width="49%">                    <div align="center"> Third level point of view <br>                      (FragmentedEntity =&gt; povTree)</div>                  </td>                </tr>              </tbody>            </table>            <p>&nbsp; </p>            <p>In the second one (<i><font color="#FF0000"><b>setSingletonAggregatesFromRandomSeeds</b>&nbsp;                  &amp; <b>swellForests</b></font></i>), 30 "seed" cells are              randomly chosen in the 50*50 spatial grid. 30 aggregates are              intialized with one of these seeds as a single component. The              iterative building process of the aggregates relies on the              integration, among the cells belonging to the outside edge of each              aggregate, of all the one that do not yet belong to another              aggregate. There is two ways to build these aggregates from seeds:            </p>            <ul>              <li>a progressive one (init= <i><font color="#FF0000"><b>setSingletonAggregatesFromRandomSeeds</b></font></i>                and control =<i><font color="#FF0000"><b> swellForests</b></font></i>:)<br>                <br>                <table width="66%" border="0" align="center">                  <tbody>                    <tr>                      <td width="33%">                        <div align="center"><img src="../../images/applica/tseAnime.gif"                            width="384"                            height="384"></div>                      </td>                    </tr>                    <tr>                      <td width="33%">                        <div align="center">Progressive swell (swellAggregates)</div>                      </td>                    </tr>                  </tbody>                </table>                <br>              </li>              <li>and a quick one : the space partition is completed in one step                :                <ul>                  <li>                    <div align="left">[init=<i><font color="#FF0000"><b>setAggregatesFromRandomSeeds</b></font></i>]                      It constructs 30 groves made of 80 (max) cells from 30                      random seeds. The size of each aggregate should follow a                      size distribution (#(30 80)), be equal to : 80 for the 30                      groves:</div>                  </li>                  <li>                    <div align="left">&nbsp; <img src="../../images/applica/setAggregatesFromRandomSeeds.png"                        alt=""                        title="30 groves"                        style="width: 298px; height: 321px;"><br>                      <br>                    </div>                  </li>                  <li>or the distribution can be sizeDistribution: #(#(1 800)                    #(5 30) #(4 3) #(20 10)) = 1 grove of 800 cells,&nbsp; 5                    groves of 30 cells , 4 groves of 3 cells and 20 groves of 10                    cells.<br>                    <img src="../../images/applica/AGG_grovesDistribution.png" alt=""                      title="GrovesDistribution"                      style="width: 304px; height: 326px;"></li>                  <li>or [init=<i><b>setAggregatesFifthFourth</b></i>] It                    constructs a complete space partition by regular                    segmentation : 4 lines and 5 colomns<br>                    <img src="../../images/applica/tse_regul.gif" width="256" height="256">                    <br>                  </li>                </ul>              </li>            </ul>            <p>&nbsp;</p>            <h4><a name="how"></a>How to run this model </h4>            <h5>1. Spreading of 3 forests</h5>            <p>1.1 From the Cormas main menu, load Files -&gt; Load, select              Demo_Aggregates.<br>              1.2 From the Simulate button, select <b>initForest</b>&nbsp; (for              initialization) and <b>swellForest</b> (for the control).<br>              1.3 The spatial grid will automatically open displaying the Grove              <i>delimitors</i> pov. <br>              1.4 Each click on the <i>Forward</i> button will activate the              swell process: the 3 groves will expand on their surrounds.<br>              1.4 Enter 30 in the <i>Final time</i> input field of the <i>Simulation</i>              window.<br>              1.5 Click on the <i>Run</i> button of the Simulation window.</p>            <h5>2. Swelling from 10 seeds </h5>            <p>The same process can be performed from 10 random seeds.<br>              2.1 From the Cormas main menu, load Files -&gt; Load, select              Demo_Aggregates.<br>              2.2 From the Simulate button, select <b>setSingletonAggregatesFromRandomSeeds</b>              (for initialization) and <b>swellForest</b> (for the control).              This will initialize a 50*50 grid and assign values (true or              false) to the cell attribute #tree.</p>            <h5>3. Two distinct growth dynamics</h5>            <p>Here two processes are executed in parallel: an expansion of the              forest from the groves + a random probability for the plots to              switch from one state to the other (tree or not).<br>              3.1 From the Simulate button, select <b>initForest</b>&nbsp; (for              initialization) and <b>stepForests</b> (for the control). <br>              3.2 The spatial grid will automatically open displaying the Grove              <i>delimitors</i> pov.<br>              3.3 Each click on the <i>Forward</i> button will activate the              swell process from the groves plus the newState of the plots.<br>              3.4 Enter 300 in the Final time input field of the Simulation              window.<br>              3.5 Click on the Run button of the Simulation window..<br>            </p>            <ul>              <li>Download the model (<a href="/logiciel/Demo_Aggregates.zip">zipfile</a>,                6Ko) (Cormas2020 version)</li>              <li>For more information, <a href="mailto:lepage@cirad.fr">contact                  the author</a>.</li>            </ul>            <p>&nbsp;</p>            <!--#include virtual="/include/copyright_fr.inc" --> </td>          <td width="15" valign="top" bgcolor="#FFFFFF"> <br>          </td>        </tr>      </tbody>    </table>  </body></html>