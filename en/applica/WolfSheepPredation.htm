<html>  <head>    <meta content="text/html; charset=utf-8" http-equiv="content-type">    <meta name="KeyWords" content="Cormas, Cirad, gestion des ressources naturelles, natural resource management, INRM, environnement, environment, simulation, modelisation, modelling, SMA, MAS, multi-agent, smalltalk, visualworks, logiciel, software">    <title>WolfSheepPredation</title>    <!--#include virtual="/include/script.inc" -->    <link rel="stylesheet" href="/css/cormas.css" --="">  </head>  <body topmargin="0" leftmargin="0" border="0" onload="MM_preloadImages('/images/fr/accueil_r.gif','/images/fr/demarche_r.gif','/images/fr/logiciel_r.gif','/images/fr/applications_r.gif','/images/fr/biblio_r.gif','/images/fr/formation_r.gif','/images/fr/reseaux_r.gif')"    bgcolor="#FFFFFF"    marginheight="0"    marginwidth="0">    <!--#include virtual="haut.inc" -->    <table border="0" cellpadding="0" cellspacing="0" width="100%">      <tbody>        <tr>          <!--#include virtual="sommair.inc" -->          <td bgcolor="#FFFFFF" valign="top" width="*">            <p>&nbsp; </p>            <h1>Wolf Sheep Predation&nbsp; </h1>            <h2>Population dynamics between preys and predators</h2>            <table style="width: 100%;" border="0">              <tbody>                <tr>                  <td>Moira Zellner (University of Illinois, <a href="mailto:mzellner@uic.edu">mzellner@uic.edu</a>),                    Pierre Bommel (Cirad, <a href="mailto:bommel@cirad.fr">bommel@cirad.fr</a>)&nbsp;&nbsp;                    <br>                    <h3><br>                    </h3>                    <h3><br>                    </h3>                    <h3>Objective</h3>                    This is the replication in Cormas of a "demo" model of the                    Netlogo library: <a target="_blank" href="http://ccl.northwestern.edu/netlogo/models/WolfSheepPredation%28DockedHybrid%29">http://ccl.northwestern.edu/netlogo/models/WolfSheepPredation(DockedHybrid)</a>.                    <br>                    In the words of Wilensky, U. (2005), "this model explores                    the stability of predator-prey ecosystems. Such a system is                    called unstable if it tends to result in extinction for one                    or more species involved. In contrast, a system is stable if                    it tends to maintain itself over time, despite fluctuations                    in population sizes".<br>                    This model presents two main versions:</td>                  <td>&nbsp;<img title="grid" alt="grid" src="../../images/applica/WolfSheep-grid.png"></td>                </tr>              </tbody>            </table>            <h5>Version 1: </h5>            In the first variation, the "sheep-wolves" version, wolves and sheep            wander randomly around the landscape, while the wolves look for            sheep to prey on. Each step costs the wolves energy, and they must            eat sheep in order to replenish their energy - when they run out of            energy they die. To allow the population to continue, each wolf or            sheep has a fixed probability of reproducing at each time step. In            this variation, we model the grass as "infinite" so that sheep            always have enough to eat, and we don't explicitly model the eating            or growing of grass. As such, sheep don't either gain or lose energy            by eating or moving. This variation produces interesting population            dynamics, but is ultimately unstable. This variation of the model is            particularly well-suited to interacting species in a rich nutrient            environment, such as two strains of bacteria in a petri dish (Gause,            1934).<br>            <h5>Version 2:</h5>            The second variation, the "sheep-wolves-grass" version explictly            models grass (green) in addition to wolves and sheep. The behavior            of the wolves is identical to the first variation, however this time            the sheep must eat grass in order to maintain their energy - when            they run out of energy they die. Once grass is eaten it will only            regrow after a fixed amount of time. This variation is more complex            than the first, but it is generally stable. It is a closer match to            the classic Lotka Volterra population oscillation models. The            classic LV models though assume the populations can take on real            values, but in small populations these models underestimate            extinctions and agent-based models such as the ones here, provide            more realistic results. (See Wilensky &amp; Rand, 2015; chapter 4).<br>            <br>            The construction of this model is described in two papers by            Wilensky &amp; Reisman (1998; 2006)<br>            <h3>Description of the model</h3>            From the brief description above, but also from the analysis of the            model code, we generated several UML diagrams.<br>            Here is the class diagram:<br>            <img style="width: 549px; height: 389px;" title="UML class diag" alt="UML class diag"              src="../../images/applica/WolfSheep-UML.png"><br>            <address>Class diagram of the model for version 2.</address>            <h5>Version 1</h5>            "wolves and sheep wander randomly around the landscape, while the            wolves look for sheep to prey on. Each step costs the wolves energy,            and they must eat sheep in order to replenish their energy - when            they run out of energy they die". Here is the translation into an            activity diagram: <br>            <img style="width: 269px; height: 419px;" title="diag Activite Wolf"              alt="diag Activite Wolf"              src="../../images/applica/WolfSheep-UML2.png">&nbsp;&nbsp;            <img style="width: 269px; height: 277px;" title="diag Activite Sheep 1"              alt="diag Activite Sheep 1"              src="../../images/applica/WolfSheep-UML3.png"><br>            <address>Activity diagrams for the wolf and the sheep (version 1)</address>            Sequence diagram of version 1:<br>            <img style="width: 340px; height: 247px;" title="diag seq 1" alt="diag seq 1"              src="../../images/applica/WolfSheep-UML4.png"><br>            <h5>Results of version 1:</h5>            <img style="width: 313px; height: 199px;" alt="resultNetlogo-v1" src="../../images/applica/WolfSheep-v1netlogo.png">&nbsp;            <img style="width: 362px; height: 188px;" title="resultCormas-v1" alt="resultCormas-v1"              src="../../images/applica/WolfSheep-v1cormas.png"><br>            As Wilensky explains, this version produces an unstable dynamic:            either the extinction of the wolves and the demogaphic explosion of            the sheep (because no grass limitation): left curves (in Netlogo),            or extinction first of the sheep, followed by that of the wolves who            have nothing to eat: right curves (in Cormas).<br>            <h5>Version 2</h5>            The class diagram and the wolf activities remain identical. The            activities of the sheep are now similar to those of the wolf:<br>            <table style="width: 100%;" border="0">              <tbody>                <tr>                  <td><img style="width: 269px; height: 420px;" title="diag. acti Sheep v2"                      alt="diag. acti Sheep v2"                      src="../../images/applica/WolfSheep-UML5.png">&nbsp;                  </td>                  <td style="text-align: left; vertical-align: top; background-color: white;"><br>                    "the "sheep-wolves-grass" version explictly models grass                    (green) in addition to wolves and sheep. The behavior of the                    wolves is identical to the first variation, however this                    time the sheep must eat grass in order to maintain their                    energy - when they run out of energy they die. Once grass is                    eaten it will only regrow after a fixed amount of time."<br>                    <br>                    <br>                    <br>                    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <img style="width: 365px; height: 179px;"                      title="diag. statetransition"                      alt="diag. statetransition"                      src="../../images/applica/WolfSheep-UML6.png"><br>                    <address>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;                      State-Transition Diag. of the grass.<br>                      <br>                      <br>                      <br>                      Activity diagram of Sheep (version 2).</address>                  </td>                </tr>              </tbody>            </table>            <br>            Sequence diagram of version 2:<br>            <img style="width: 443px; height: 251px;" title="diag seq 2" alt="diag seq 2"              src="../../images/applica/WolfSheep-UML7.png"><br>            <br>            <h5>Results of version 2: incorrect replication</h5>            <img style="width: 315px; height: 196px;" title="result Netlogo v2"              alt="result Netlogo v2"              src="../../images/applica/WolfSheep-v2netlogo.png">&nbsp;            <img style="width: 375px; height: 197px;" title="result Cormas v2" alt="result Cormas v2"              src="../../images/applica/WolfSheep-v2cormas.png"><br>            <address>Results of both implementations: left, original version              under Netlogo, right, replication under Cormas.</address>            For version 2, we note a stabilization of the dynamics, which            fluctuate but where the both populations are still presents.<br>            However, the results differ between the two platforms: in the            original version under Netlogo (left graph), we note an average of            150 sheep and 75 wolves. In the version under Cormas (right graph),            there are 200 sheep on average and less than 20 wolves. It was            therefore necessary to understand where this important difference            came from.<br>            <h3>Analysis of the different implementations</h3>            The textual description of the model and its translation into class            diagrams do not enable to get two convergent implementations. So we            had to understand where this differences came from. After analysis            of the Netlogo code, we understood that the difference came            essentially from the random movement of the agents. In the case of            Cormas, the predefined method of a random movement is called            #randomWalk : it allows an agent to move from its cell to one of the            8 neighbouring cells taken at random. So it looks like a Brownian            movement. In the case of the implementation of this model under            Netlogo, the movement was written as follows:<br>            <img title="code" alt="code" src="../../images/applica/WolfSheep-code.png"><br>            Here, each agent (turtle) moves one cell, but changing its direction            by + or - 50째. This leads to a more oriented movement than a simple            Brownsian movement. Yet this procedure, which was not described in            the text, has important consequences on the overall dynamics of the            system.<br>            This oriented movement has been re-implemented in the Cormas            version. It was necessary to add an attribute called "direction" to            the agents which, at initialization, contains a random value between            0째 and 360째, as well as an attribute called "maxDeviation" valuing            50째. With these modifications, we obtain similar results:<br>            <img title="result cormas v3" alt="result cormas v3" src="../../images/applica/WolfSheep-v3cormas.png"><br>            In the same idea, we modified the original model under Netlogo to            integrate the Brownian movement:<br>            <br>            <img title="code 2" alt="code 2" src="../../images/applica/WolfSheep-code2.png"><br>            <br>            We then obtain dynamics similar to the 1st implementation under            Cormas:<br>            <img title="V3 netlogo" alt="V3 netlogo" src="../../images/applica/WolfSheep-v3netlogo.png"><br>            <br>            So here is the correct version of the class diagram that takes into            account the oriented movements:<br>            <br>            <img title="classDiag final" alt="classDiag final" src="../../images/applica/WolfSheep-UML8.png"><br>            <ul>              <li><b>Download</b> the <b><a href="../../logiciel/WolfSheepPredation-cormas.zip">WolfSheepPredation</a>                  model for</b> Cormas, as well as the <b><a href="../../logiciel/Wolf%20Sheep%20Predation-MZ.nlogo">amanded                    version</a> </b>for Netlogo.<b> The</b> <a href="../../logiciel/SheepWolf_UML.asta">UML                  file</a> for Astah<b><br>                </b></li>              <li>For more information, <a href="mailto:bommel@cirad.fr">contact
                  the authors</a>.</li>              Note that the Cormas model proposes 2 versions: a standard version              (WolfSheepPredation.pst) and a version with activity diagrams              (WolfSheepPredation_ActivDiag.pst):            </ul>            <img title="activ Cormas" alt="activ Cormas" src="../../images/applica/WolfSheep-UML9.png">            <ul>              <br>            </ul>            <!--#include virtual="/include/copyright_fr.inc" --> </td>          <td bgcolor="#FFFFFF" valign="top" width="15"> <br>          </td>        </tr>      </tbody>    </table>  </body></html>