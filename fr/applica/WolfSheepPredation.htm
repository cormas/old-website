<html>  <head>    <meta content="text/html; charset=utf-8" http-equiv="content-type">    <meta name="KeyWords" content="Cormas, Cirad, gestion des ressources naturelles, natural resource management, INRM, environnement, environment, simulation, modelisation, modelling, SMA, MAS, multi-agent, smalltalk, visualworks, logiciel, software">    <title>WolfSheepPredation</title>    <!--#include virtual="/include/script.inc" -->    <link rel="stylesheet" href="/css/cormas.css" --="">  </head>  <body topmargin="0" leftmargin="0" border="0" onload="MM_preloadImages('/images/fr/accueil_r.gif','/images/fr/demarche_r.gif','/images/fr/logiciel_r.gif','/images/fr/applications_r.gif','/images/fr/biblio_r.gif','/images/fr/formation_r.gif','/images/fr/reseaux_r.gif')"    bgcolor="#FFFFFF"    marginheight="0"    marginwidth="0">    <!--#include virtual="haut.inc" -->    <table border="0" cellpadding="0" cellspacing="0" width="100%">      <tbody>        <tr>          <!--#include virtual="sommair.inc" -->          <td bgcolor="#FFFFFF" valign="top" width="*">            <p>&nbsp; </p>            <h1>Wolf Sheep Predation&nbsp; </h1>            <h2>Dynamique des populations entre proies et prédateurs</h2>            <table style="width: 100%;" border="0">              <tbody>                <tr>                  <td>Moira Zellner (University of Illinois, <a href="mailto:mzellner@uic.edu">mzellner@uic.edu</a>),                    Pierre Bommel (Cirad, <a href="mailto:bommel@cirad.fr">bommel@cirad.fr</a>)&nbsp;&nbsp;                    <h3><br>                    </h3>                    <h3><br>                    </h3>                    <h3>Objectif</h3>                    Il s'agit de la réplication dans Cormas d'un modèle "démo"                    de la librairie de Netlogo : <a target="_blank" href="http://ccl.northwestern.edu/netlogo/models/WolfSheepPredation%28DockedHybrid%29">http://ccl.northwestern.edu/netlogo/models/WolfSheepPredation(DockedHybrid)</a>.                    <br>                    Selon les mots de Wilensky, U. (2005), ce modèle explore la                    stabilité des systèmes prédateurs-proies. Ces systèmes sont                    instables s'ils tendent à entraîner l'extinction d'une ou de                    plusieurs espèces. A l'opposé, un système stable tend à se                    maintenir dans le temps malgré les fluctuations de la taille                    des populations.<br>                    Ce modèle propose deux variantes principales :</td>                  <td>&nbsp;<img title="grid" alt="grid" src="../../images/applica/WolfSheep-grid.png"></td>                </tr>              </tbody>            </table>            <h5>Version 1 : </h5>            Des loups et des moutons errent au hasard dans un paysage, les loups            essayant d'attraper des moutons. A chaque itération (step), un loup            perd de l'énergie et doit manger des moutons pour la récupérer.            Quand ils n'en ont plus, ils meurent. <br>            Chaque espèce a une probabilité de reproduction fixe à chaque step.<br>            Dans cette version, l'herbe n'est pas un facteur limitant pour les            moutons. Par conséquent, les moutons ne gaspillent pas d'énergie en            se déplaçant, ni ne la récupèrent en broutant. Cette version produit            une dynamique intéressante mais instable. Ce modèle illustre la            dynamique d'un système riche en nutriments, comme deux souches            bactériennes dans une boîte de Pétri (Gause, 1934).<br>            <h5>Version 2 : </h5>            Le comportement des loups est le même que dans la version 1. Par            contre ici les moutons mangent de l'herbe pour gagner de l'énergie,            et en perdent lors de leur déplacement. Quand leur énergie s'épuise,            ils meurent. <br>            Une fois broutée, l'herbe se régénère au bout d'un certain temps. <br>            Bien que cette version soit plus complexe, elle est plus stable et            ressemble davantage aux modèles classiques tels que celui de Lotka            Volterra, qui&nbsp; sous-estime la forte probabilité d'extinction            dans le cas de petites populations. Ici, un SMA donne des résultats            plus réalistes. (Voir Wilensky &amp; Rand, 2015 ; chapitre 4).<br>            <h3>Description du modèle</h3>            A partir de la description succincte ci-dessus, mais aussi de            l'analyse du code du modèle, nous avons généré plusieurs diagrammes            UML. <br>            Voici le diagramme de classe :<br>            <img style="width: 549px; height: 389px;" title="UML class diag" alt="UML class diag"              src="../../images/applica/WolfSheep-UML.png"><br>            <address>Diagramme de classe du modèle pour la version 2.</address>            <h5>Version 1</h5>            "A chaque itération les loups perdent de l'énergie, et ils doivent            manger des moutons pour la récupérer. <br>            Quand ils n'en ont plus, ils meurent. Chaque loup a une probabilité            fixe de reproduction à chaque step". Voici la traduction en            diagramme d'activité : <br>            <img style="width: 269px; height: 419px;" title="diag Activite Wolf"              alt="diag Activite Wolf"              src="../../images/applica/WolfSheep-UML2.png">&nbsp;&nbsp;
            <img style="width: 269px; height: 277px;" title="diag Activite Sheep 1"              alt="diag Activite Sheep 1"              src="../../images/applica/WolfSheep-UML3.png"><br>            <address>Diagramme d'activite du loup et du mouton (pour la version              1)</address>            Diagramme de séquence pour la version 1 :<br>            <img style="width: 340px; height: 247px;" title="diag seq 1" alt="diag seq 1"              src="../../images/applica/WolfSheep-UML4.png"><br>            <h5>Résultats pour la version 1 :</h5>            <img style="width: 313px; height: 199px;" alt="resultNetlogo-v1" src="../../images/applica/WolfSheep-v1netlogo.png">&nbsp;
            <img style="width: 362px; height: 188px;" title="resultCormas-v1" alt="resultCormas-v1"              src="../../images/applica/WolfSheep-v1cormas.png"><br>            Comme l'explique Wilensky, cette version produit une dynamique            instable : soit la disparition des loups et l'explosition            démogaphique des moutons (car pas de limite) : courbes de gauche            (dans Netlogo), soit la disparition d'abord des moutons, suivie par            celle des loups qui n'ont plus rien à manger : courbes de droite            (dans Cormas).<br>            <h5>Version 2</h5>            Le diagramme de classe et les activités du loup sont identiques. Les            activités du mouton sont maintenant semblables à celles du loup :<br>            <table style="width: 100%;" border="0">              <tbody>                <tr>                  <td><img style="width: 269px; height: 420px;" title="diag. acti Sheep v2"                      alt="diag. acti Sheep v2"                      src="../../images/applica/WolfSheep-UML5.png">&nbsp;
                    </td>                  <td style="text-align: left; vertical-align: top; background-color: white;"><br>                    "Les moutons se nourrissent d'herbe pour gagner de l'énergie                    et en perdent à mesure qu'ils bougent. Quand leur énergie                    s'épuise, les moutons meurent. Une fois mangée, l'herbe se                    régénère au bout d'un certain temps."<br>                    <br>                    <br>                    <br>                    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <img style="width: 365px; height: 179px;"                      title="diag. statetransition"                      alt="diag. statetransition"                      src="../../images/applica/WolfSheep-UML6.png"><br>                    <address>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;                      Diag. d'état-transition de l'herbe.<br>                      <br>                      <br>                      <br>                      Diagramme d'activité du mouton pour la version 2.</address>                  </td>                </tr>              </tbody>            </table>            <br>            Diagramme de séquence pour la version 2 :<br>            <img style="width: 443px; height: 251px;" title="diag seq 2" alt="diag seq 2"              src="../../images/applica/WolfSheep-UML7.png"><br>            <br>            <h5>Résultats pour la version 2 : une réplication incorrecte</h5>            <img style="width: 315px; height: 196px;" title="result Netlogo v2"              alt="result Netlogo v2"              src="../../images/applica/WolfSheep-v2netlogo.png">&nbsp;
            <img style="width: 375px; height: 197px;" title="result Cormas v2" alt="result Cormas v2"              src="../../images/applica/WolfSheep-v2cormas.png"><br>            <address>Résultats des deux implémentations : à gauche, version              originale sous Netlogo, à droite, réplication sous Cormas.</address>            Pour la version 2, on note une stabilisation des dynamiques, qui            fluctuent mais où les deux populations se maintiennent.<br>            Par contre, les résultats différent entre les deux plateformes :            dans la version originale sous Netlogo (graphe de gauche), on note            une moyenne de 150 moutons et de 75 loups. Dans la version sous            Cormas (graphe de droite), il y a 200 moutons en moyenne pour moins            de 20 loups. Il était donc nécessaire de comprendre d'où venait            cette différence importante.<br>            <h3>Analyse des différentes implémentations</h3>            La description textuelle du modèle et sa traduction en diagrammes de            classe ne permettent pas d'obtenir deux implémentations            convergentes. Il a donc fallu comprendre d'où venait cette            différence. Après anaylse du code de Netlogo, nous avons compris que            la différence provenait essentiellement du mouvement aléatoire des            agents. Dans le cas de Cormas, la méthode prédéfinie d'un mouvement            aléatoire s'appelle #randomWalk : elle permet à un agent de bouger            de sa cellule vers une des 8 cellules voisines prise au hasard. Cela            ressemble donc à un mouvement brownien. Dans le cas de            l'implémentation de ce modèle sous Netlogo, le mouvement s'écrivait            de la façon suivante :<br>            <img title="code" alt="code" src="../../images/applica/WolfSheep-code.png"><br>            Ici, chaque agent (turtle) se déplace d'une cellule, mais en            modifiant sa direction de + ou - 50°. Cela entraine un mouvement            plus orienté qu'un simple mouvement brownsien. Cette procédure qui            n'était pas décrite dans le texte a des conséquences importantes sur            la dynamique globale du système.<br>            Ce mouvement orienté a été réimplémenté dans la version sous Cormas.            Il a fallu rajouté un attribut "direction" aux agents qui, à            l'initialisation, contient une valeur aléatoire entre 0° et 360°,            ainsi qu'un attribut "maxDeviation" valant 50°. Avec ces            modifications, nous obtenons des résultats semblables :<br>            <img title="result cormas v3" alt="result cormas v3" src="../../images/applica/WolfSheep-v3cormas.png"><br>            Dans la même idée, nous avons modifié le modèle original sous            Netlogo afin d'intégrer le mouvement brownien:<br>            <br>            <img title="code 2" alt="code 2" src="../../images/applica/WolfSheep-code2.png"><br>            <br>            Nous obtenons alors des dynamiques semblables à la 1ère            implémentation sous Cormas :<br>            <img title="V3 netlogo" alt="V3 netlogo" src="../../images/applica/WolfSheep-v3netlogo.png"><br>            <br>            Voici donc la version correcte du diagramme de classe qui prend en            compte les déplacements orientés :<br>            <br>            <img title="classDiag final" alt="classDiag final" src="../../images/applica/WolfSheep-UML8.png"><br>            <ul>              <li><b>Télécharger</b> le modèle <b><a href="../../logiciel/WolfSheepPredation-cormas.zip">WolfSheepPredation</a>                </b>pour Cormas, ainsi que la <b><a href="../../logiciel/Wolf%20Sheep%20Predation-MZ.nlogo">version
                    modifiée</a> </b>pour Netlogo.<b> </b>Le <a href="../../logiciel/SheepWolf_UML.asta">fichier
                  UML</a> sous Astah<b><br>                </b></li>              <li>Pour en savoir plus, <a href="mailto:bommel@cirad.fr">contactez
                  les auteurs</a>.</li>              A noter que le modèle sous Cormas propose 2 versions : une version              standard (WolfSheepPredation.pst) et une version avec des              diagrammes d'activité (WolfSheepPredation_ActivDiag.pst) :            </ul>            <img title="activ Cormas" alt="activ Cormas" src="../../images/applica/WolfSheep-UML9.png">            <ul>              <br>            </ul>            <!--#include virtual="/include/copyright_fr.inc" --> </td>          <td bgcolor="#FFFFFF" valign="top" width="15"> <br>          </td>        </tr>      </tbody>    </table>  </body></html>