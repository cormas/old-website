<html>  <head>    <meta http-equiv="content-type" content="text/html; charset=utf-8">    <meta name="KeyWords" content="Cormas, Cirad, gestion des ressources naturelles, natural resource management, INRM, environnement, environment, simulation, modelisation, modelling, SMA, MAS, multi-agent, smalltalk, visualworks, logiciel, software">    <title>demo_fire</title>    <!--#include virtual="/include/script.inc" -->    <link rel="stylesheet" href="/css/cormas.css" --="">  </head>  <body border="0" onload="MM_preloadImages('/images/fr/accueil_r.gif','/images/fr/demarche_r.gif','/images/fr/logiciel_r.gif','/images/fr/applications_r.gif','/images/fr/biblio_r.gif','/images/fr/formation_r.gif','/images/fr/reseaux_r.gif')"    topmargin="0"    marginwidth="0"    marginheight="0"    leftmargin="0"    bgcolor="#FFFFFF">    <!--#include virtual="haut.inc" -->    <table width="100%" cellspacing="0" cellpadding="0" border="0">      <tbody>        <tr>          <!--#include virtual="sommair.inc" -->          <td width="*" valign="top" bgcolor="#FFFFFF">            <p>&nbsp; </p>            <h1>Demo_Fire&nbsp; </h1>            <h2>Automate cellulaire feu de forêt</h2>            <p>Christophe Le Page, François Bousquet, Pierre Bommel (Cirad)</p>            <h3>Objectif</h3>            <p>Ce modèle illustre les principes des automates cellulaires              implémentés avec Cormas. L'entité spatiale du modèle, <i>Plot</i>,              peut se trouver dans quatre états: <i>#fire</i> (rouge); <i>#forest</i>              (vert); <i>#ash</i> (gris); <i>#empty</i> (blanc). Chaque              cellule de la grille spatiale est initialement, selon une              probabilité <i>p</i>, une forêt, et selon une probabilité <i>1-p</i>,              vide. On met le feu à une cellule et on suit la diffusion du feu              de proche en proche à travers la grille spatiale selon la fonction              de transition suivante: une cellule en forêt prend feu au temps <i>t</i>              si l'une au moins de ses 4 voisines (nord, est, sud, ouest) est en              feu au temps <i>t-1</i>. Les cellules en feu passeront en cendres              au temps suivant, les cellules en cendres deviendront vides au              temps suivant. </p>            <table width="75%" border="1">              <tbody>                <tr>                  <td align="center"><img src="/images/applica/fireautomata53.gif"                      alt="Animation gif du modèle FireAutomata"                      hspace="10"                      height="190"                      width="193"                      vspace="10"                      align="bottom"></td>                  <td align="center"><img src="/images/applica/fireautomata58.gif"                      alt="Animation gif du modèle FireAutomata"                      hspace="10"                      height="191"                      width="193"                      vspace="10"                      align="bottom"></td>                </tr>                <tr>                  <td align="center">p = 0.53</td>                  <td align="center">p = 0.58</td>                </tr>              </tbody>            </table>            <p>La probabilité d'observer un incendie restreint est très grande              si <i>p</i> est inférieur à 0.55, et au contraire si <i>p</i>              est supérieur à 0.55, c'est un incendie global qui a de fortes              chances de se produire. Ce seuil dit de "<b>percolation</b>"              caractérise ce type d'automate cellulaire représentant des              processus de diffusion. <br>              Voir aussi (pour les amateurs !) l'<a href="fireautomataMovie.htm">animation</a>              réalisée à partir d'une grille de 100 x 100 cellules (p = 0.58).</p>            <p><br>            </p>            <p><u>Les quatre versions suivantes décrivent quatre manières                différentes d'implémenter un modèle de diffusion du feu sur une                grille. </u></p>            <p>Pour ces 4 versions, nous considérons uniquement trois états              possibles : en forêt, en feu, ou vide (#<i>forest</i>, #<i>fire</i>,              #<i>empty</i>). Le feu ne s'éteind pas de lui-même (sauf pour la              version 4b).</p>            <p><br>            </p>            <h3>Version 1 : automate cellulaire</h3>            <p>&nbsp;&nbsp;&nbsp; ** Sélectionner <b><u>Fire_1_CA.pcl</u></b>              du modèle <b><a href="../../logiciel/Demo_Fire.zip">Demo_Fire</a></b>              **</p>            <p>Cette version propose une version classique d'automate              cellulaire. Ici, seule une classe est créée (<b>Plot</b>), sous              classe de <b>SpatialEntityCell</b>. Elle contient donc déjà deux              attributs : <i>state</i> et <i>bufferState</i>. Ici, nous              déclarons <i>#empty</i> comme valeur par défaut :</p>            <img title="default state" alt="" src="../../images/applica/fire-defaultState.png"              style="width: 331px; height: 375px;"><br>            <br>            Pour créer l'espace initial, il faut sélectionner une des 3 méthodes            d'initialisation : init_4 (qui créé un espace de voisinage 4),            init_6 (voisinage de 6, ou init_8 (voisinage de Moore). Chacune de            ces méthodes utilise l'initialisation générale suivante : <br>            <br>            <img alt="code initialization" src="../../images/applica/fire-code.png"><br>            A noter que <i>xSize</i> et <i>ySize</i> ont été déclarés comme 2            attributs du modèle (avec 50 comme valeur par défaut).<br>            <br>            Pour la dynamique du feu, il faut redéfinir la méthode <b>#newState</b>            (aussi appelée "Fonction de transition") au niveau de la classe <b>Plot</b>,            de la façon suivante :<br>            <br>            <img title="fire code" alt="code of fire" src="../../images/applica/fire-code2.png"><br>            Il est important de noter ici que l'état de la cellule n'est pas            modifié mais uniquement son état tampon (<i>bufferState</i>). Par            exemple, dans le cas d'une cellule en forêt en contact avec un feu,            celle-ci garde son état forêt, mais modifie juste son état tampon            (self bufferState: #fire),&nbsp; ce qui fait que cette cellule            continue pour ce tour d'être considérée par les autres cellules            comme étant encore une forêt.<br>            Et au niveau de la méthode <i>#step: t</i> de l'ordonnanceur, il            faut faire un simple appel à :<br>            <pre>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; self stepSynchronouslyCA: t.</pre>            La méthode <i>#stepSynchronouslyCA:</i> est défini au niveau de <b>              CormasModel</b>. Elle exécute 2 boucles complètes de l'ensemble            des cellules. La 1ère boucle fait exécuter la méthode <i>#newState</i>            à chaque cellule (donc sans changement effectif de l'état), puis une            deuxième boucle fait exécuter la méthode <i>#updateState</i>. C'est            seulement à ce moment-là que l'état des cellules est effectivement            modifié.<br>            <br>            <h3>Version 2 : propagation à partir des cellules en feu </h3>            &nbsp;&nbsp;&nbsp; ** Sélectionner&nbsp;<b><u><b><u>Fire_2</u></b>_CAoptimized.pcl</u></b>            du modèle <b><a href="../../logiciel/Demo_Fire.zip">Demo_Fire</a></b>            **<br>            <br>            Cette version propose une diffusion par les cellules en feu            uniquement. Il s'agit donc à chaque pas de temps de sélectionner les            cellules en feu, puis d'activer pour chacune la propagation du feu            sur les voisines. Par rapport à la version 1, deux méthodes sont            ajoutées dans la classe <b>Plot</b> : <i>#ignite</i> (qui change            l'état de la cellule en feu) et <i>#spreadFire</i> (qui propage le            feu sur les cellules forets voisines).<br>            Pour éviter les artéfacts liés au parcours régulier des cellules,            l'ordonnanceur doit sélectionner au préalable les cellules en feu,            puis activer leur diffusion :<br>            <br>            <img title="fire code diffusion" alt="" src="../../images/applica/fire-code3.png"><br>            Cette version propose également une procédure plus optimisée qui            évite le parcours au préalable de la grille pour ne sélectionner que            les cellules en feu (cf. methode <i>#step: t</i>).<br>            <br>            <h3>Version 3 : une entité spatiale (agrégat) se répand sur les              cellules en forêt</h3>            &nbsp;&nbsp;&nbsp; ** Sélectionner&nbsp;<b><u><b><u>Fire_3_</u></b>FireAggregate.pcl</u></b>            du modèle <b><a href="../../logiciel/Demo_Fire.zip">Demo_Fire</a></b>            **<br>            <br>            Dans cette version, le feu représente une étendue spatiale qui se            répand sur les cellules en forêt qui la bordent. Cette entité est            appelée <b>FireAggregate</b> ; c'est une sous-classe de <b>SpatialEntityAggregate</b>.            Ici, seules les entités FireAggregates sont activées :<br>            <pre>&nbsp;&nbsp;&nbsp; self theFireAggregates do: [: f | f spread].</pre>            &nbsp;Chaque agrégat exécute alors la méthode <i>#spread</i> qui se            compose de l'instruction suivante :<br>            <pre>&nbsp;&nbsp;&nbsp; self swellConstraint: [: p | p state = #forest].</pre>            &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
            <img title="fire aggregate" alt="" src="../../images/applica/fire-aggregate.png"><i>&nbsp;
              Une entité fireAggregate (avec son contour)</i><br>            <br>            A noter que l'affichage du contour des agrégats ralenti la            simulation. Sans cet affichage (pov -&gt; FireAggregate -&gt; #nil),            les simulations sont aussi rapides que dans la version 2.<br>            <br>            <h3>Version 4 : des entités Feu se déplacent</h3>            &nbsp;&nbsp;&nbsp; ** Sélectionner&nbsp;<b><u><b><u>Fire_4_</u></b>FireEntity.pcl</u></b>            du modèle <b><a href="../../logiciel/Demo_Fire.zip">Demo_Fire</a></b>            **<br>            <br>            Dans cette version, des entités Feu (<b>FireEntity</b>) sont créées.            Ce sont les seules entités activées par l'ordonnanceur. Considérées            comme des agents actifs, ces entités se propagent en créant de            nouvelles entités feu sur les cellules voisines :<br>            <hr style="width: 0pt; color: #7f7f7f; margin-left: auto; margin-right: auto;"><img              title="fire code 4"              alt=""              src="../../images/applica/fire-code4.png"><br>            <br>            La méthode #<i>moveTo:</i> a été redéfinie afin d'activer l'ignition            des cellules lors d'un déplacement :<br>            <br>            <img title="fire move" alt="" src="../../images/applica/fire-code5.png"><br>            <h3>Version 4b : des entités Feu se consument et s'éteignent</h3>            &nbsp;&nbsp;&nbsp; ** Sélectionner&nbsp;<b><u><b><u>Fire_5_</u></b>FireEntityAging.pcl</u></b>            du modèle <b><a href="../../logiciel/Demo_Fire.zip">Demo_Fire</a></b>            ** <br>            <br>            <table style="width: 75%;" border="0">              <tbody>                <tr>                  <td style="vertical-align: top; background-color: white;">Cette
                    version est une réplication du modèle <a href="http://netlogoweb.org/launch#http://netlogoweb.org/assets/modelslib/Sample%20Models/Earth%20Science/Fire.nlogo">Fire
                      de NetLogo</a>. Après avoir incendié une parcelle,                    l'entité feu se consume et son intensité diminue                    progressivement jusqu'à extinction (12 pas de temps).<br>                    Dans cette version, la couleur du feu en fonction de son age                    est supportée par <b>EntityFire</b> qui défini un point de                    vue spécifique (<i>#povAge</i>).<br>                    Comme pour les versions antérieures, une méthode                    d'initialisation est proposée : <i>#init_FireLine</i> qui                    créée une grille de 100 x 100 avec un front de feu débutant                    sur la première colonne de la grille. </td>                  <td colspan="1" rowspan="2"><img title="fire entities" src="../../images/applica/fire-entity.png">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                    </td></tr>                <tr>                  <td style="text-align: right; vertical-align: top; background-color: white;"><i>Propagation
                      du feu depuis la bordure Ouest de la grille</i></td>                  <td><br>                  </td>                </tr>              </tbody>            </table>            <br>            <ul>              <li><b>Télécharger</b> le modèle <b><a href="../../logiciel/Demo_Fire.zip">Demo_Fire</a></b></li>              <li>Pour en savoir plus, <a href="mailto:lepage@cirad.fr">contactez
                  les auteurs</a>.</li>            </ul>            <!--#include virtual="/include/copyright_fr.inc" --> </td>          <td width="15" valign="top" bgcolor="#FFFFFF"> <br>          </td>        </tr>      </tbody>    </table>  </body></html>